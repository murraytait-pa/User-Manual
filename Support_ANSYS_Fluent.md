# Support ANSYS Fluent simulations

Iota is able to load and post-process CFD and DPM data from steady-state and transient simulation run with [ANSYS-Fluent](https://www.ansys.com/en-gb/products/fluids/ansys-fluent). The following file formats are supported:

* .cas and .dat files.
* .cas.h5 and .dat.h5 files.
* .cas.gz and .dat.gz files.
* .encas file (only applicable for DPM data exported from ANSYS Fluent in EnSight Gold format)


## Loading CFD data from steady-state simulations

```python
dataset = iota.dataset.load_fluent(case_files=['My_simulation.cas'], data_file=['My_simulation.dat'])
```

## Loading CFD data from a transient simulations

```python
dataset = iota.dataset.load_fluent(case_files=['My_simulation.cas'], data_file=['My_simulation-01.dat', 'My_simulation-02.dat'])
```

## Loading CFD and DPM data

Iota provides different ways of loading the DPM data generated by [ANSYS Fluent](https://www.ansys.com/en-gb/products/fluids/ansys-fluent) depending of the type of simulation:


##### Steady-state CFD and steady-state DPM
Users need to export the DPM data into EnSight Gold format using the `Export Particle History Data` feature in ANSYS Fluent: `File` > `Export` > `Particle History Data`. When setting the export of the particle history data, users must select at least the following variables from the one available via the `Exported Particle Variables...` button:

* Particle ID
* Particle X Velocity
* Particle Y Velocity
* Particle Z Velocity 
* Particle-Diameter
* Particle-Mass


![](/assets/Export_Particle_History_Data.PNG)

Once the DPM data has been exported, users can load into Iota using the following function:

```python
dataset = iota.dataset.load_fluent(case_files=['My_simulation.cas'], data_file=['My_simulation.dat'], encase_files=['my_simulation_DPM.new.encas'])
```

##### Steady-state CFD and transient DPM
Users need to export the DPM data into EnSight Gold format during the calculation using the `Export Particle History Data` feature in ANSYS Fluent: `File` > `Export` > `During Calculation` > `Particle History Data`. 
When setting the export of the particle history data, users must select at least the following variables from the one available via the `Exported Particle Variables...` button:

* Particle ID
* Particle X Velocity
* Particle Y Velocity
* Particle Z Velocity 
* Particle Diameter
* Particle Mass
* Parcel Mass
* Parcel Diameter

![](/assets/Export_Particle_History_Data_During_calculation.PNG)

Once the DPM data has been exported, users can load into Iota using the following function:

```python
dataset = iota.dataset.load_fluent(case_files=['My_simulation.cas'], data_file=['My_simulation.dat'], encase_files=['my_simulation_DPM.new.encas'])
```


##### Transient CFD and transient DPM
In this case, exporting the DPM data from ANSYS Fluent is not required. The DPM data is stored in the case and data file together with the CFD data and Iota can read the data directly from those files:


```python
dataset = iota.dataset.load_fluent(case_files=['My_simulation.cas], data_file=[My_simulation-01.dat, My_simulation-02.dat])
```
















